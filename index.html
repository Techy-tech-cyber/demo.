<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday Akshit ðŸŽ‚ â€” From @lucky_xxviii</title>
  <style>
    :root{
      --bg:#071226;
      --card:#08142a;
      --accent:#ffb86b;
      --pink:#ff78a1;
      --cream:#fff0e6;
      --choco:#7a3b2b;
      --text:#e6eef8;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans"; 
      background:
        radial-gradient(800px 400px at 10% 20%, rgba(255,120,180,0.04), transparent),
        linear-gradient(180deg,#031026 0%, #071226 60%);
      color:var(--text);
      display:flex;align-items:center;justify-content:center;padding:20px;}
    .card{width:100%;max-width:980px;border-radius:18px;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow: 0 12px 50px rgba(2,6,23,0.7); position:relative; overflow:hidden;}
    header{display:flex;gap:14px;align-items:center;margin-bottom:12px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--pink));display:flex;align-items:center;justify-content:center;font-weight:800;color:#041226}
    h1{margin:0;font-size:20px}
    p.lead{margin:2px 0 0;color:#bfcfe6;font-size:13px}

    .stage{display:flex;gap:22px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .left{flex:1;min-width:320px;display:flex;align-items:center;justify-content:center;position:relative}
    .right{width:320px;min-width:260px;background:transparent;display:flex;flex-direction:column;gap:10px}

    .plate{width:420px;height:24px;background:linear-gradient(180deg,#dfe8ff,#f7f9ff);border-radius:999px;position:absolute;bottom:22px;left:50%;transform:translateX(-50%);filter:blur(.2px);box-shadow: 0 10px 36px rgba(2,6,23,0.6);}

    .cake-wrap{width:360px;max-width:92%;position:relative;display:flex;align-items:center;justify-content:center;transform-origin:center bottom}
    .cake{width:320px;display:flex;flex-direction:column;align-items:center;position:relative;padding-bottom:14px;transform-origin:center bottom}

    .layer{width:320px;border-radius:18px;position:relative;box-shadow: 0 8px 22px rgba(0,0,0,0.45)}
    .layer.bottom{height:90px;background:linear-gradient(180deg,var(--choco),#5a2a1f);transform:translateY(-18px)}
    .layer.middle{height:70px;background:linear-gradient(180deg,#ffd6e1,#ffbcd5);transform:translateY(-28px)}
    .layer.top{height:64px;background:linear-gradient(180deg,var(--cream),#fff6ee);transform:translateY(-40px);z-index:4}

    .frosting{position:absolute;top:8px;left:0;right:0;height:26px;display:flex;justify-content:space-between;padding:0 16px;pointer-events:none;z-index:6}
    .frosting i{width:26px;height:26px;border-radius:50%;background:linear-gradient(180deg,var(--accent),var(--pink));box-shadow: 0 8px 18px rgba(0,0,0,0.25); transform-origin:center; animation:drip 3.5s ease-in-out infinite}
    .frosting i:nth-child(2){animation-delay:.25s}
    .frosting i:nth-child(3){animation-delay:.6s}
    @keyframes drip{0%{transform:translateY(0)}50%{transform:translateY(8px) scale(.98)}100%{transform:translateY(0)}}

    .candles{position:absolute;top:-22px;display:flex;gap:12px;left:50%;transform:translateX(-50%);z-index:8}
    .candle{width:12px;height:54px;border-radius:8px;background:linear-gradient(180deg,#fff,#ffecec);position:relative;display:flex;align-items:flex-start;justify-content:center;box-shadow:0 8px 18px rgba(0,0,0,0.35);border:2px solid rgba(0,0,0,0.06)}
    .candle::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-image:repeating-linear-gradient(90deg, rgba(255,120,120,0.08) 0 6px, transparent 6px 12px);border-radius:8px}

    .flame{width:26px;height:36px;margin-top:-20px;pointer-events:none;transform-origin:50% 80%;filter:drop-shadow(0 8px 10px rgba(255,140,40,0.16));}
    .flame .inner{animation:inner-flick 400ms infinite ease-in-out}
    .flame .outer{animation:outer-flick 600ms infinite ease-in-out}
    @keyframes inner-flick{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-3px) scale(1.06)}100%{transform:translateY(0) scale(1)}}
    @keyframes outer-flick{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-2px) scale(1.03)}100%{transform:translateY(0) scale(1)}}

    .smoke-puff{position:absolute;width:10px;height:10px;background:rgba(255,255,255,0.12);border-radius:50%;filter:blur(3px);opacity:0;pointer-events:none;transform-origin:center center}

    .wobble{animation:wob 850ms ease-in-out}
    @keyframes wob{0%{transform:translateY(0) rotate(0deg)}12%{transform:translateY(-6px) rotate(-1.6deg)}28%{transform:translateY(3px) rotate(1.2deg)}44%{transform:translateY(-2px) rotate(-0.6deg)}60%{transform:translateY(1px) rotate(0.3deg)}100%{transform:translateY(0) rotate(0deg)}}

    canvas.sparkle{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:12;mix-blend-mode: screen}

    .panel{border-radius:12px;padding:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);box-shadow: 0 8px 26px rgba(2,6,23,0.45)}
    .big{font-weight:800;font-size:20px;color:#fff;margin-bottom:6px}
    .small{color:#bcd0ea;font-size:14px}
    .controls{display:flex;gap:8px;margin-top:8px}
    button{cursor:pointer;padding:10px 12px;border-radius:10px;border:0;font-weight:700}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--pink));color:#041226}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text)}

    /* Instagram tag (fixed, stylish) */
    .insta-tag {
      position: fixed;
      right: 20px;
      bottom: 20px;
      background: rgba(255,255,255,0.06);
      padding: 8px 14px;
      border-radius: 999px;
      font-size: 14px;
      color: #ffb86b;
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,0.08);
      font-weight: 700;
      z-index: 99999;
      display:flex;
      gap:10px;
      align-items:center;
      box-shadow: 0 8px 30px rgba(0,0,0,0.45);
    }
    .insta-tag a {
      color: #ffb86b;
      text-decoration: none;
      font-weight:800;
    }
    .insta-tag a:hover { text-decoration: underline; }

    /* small responsive */
    @media (max-width:840px){
      .stage{flex-direction:column-reverse;align-items:center}
      .right{width:100%}
      .insta-tag{right:12px;left:auto;bottom:12px;padding:8px 12px;font-size:13px}
    }
  </style>
</head>
<body>
  <div class="card" role="main" aria-label="Animated Birthday Card for Akshit from lucky_xxviii">
    <header>
      <div class="logo" aria-hidden="true">HB</div>
      <div>
        <h1>Wish you very happy birthday â€” Akshit ðŸŽ‰</h1>
        <p class="lead">From: <strong>@lucky_xxviii</strong> Â· Click cake to blow candles. Press Space / Enter when cake is focused.</p>
      </div>
    </header>

    <div class="stage">
      <div class="left" aria-hidden="false">
        <div class="plate" aria-hidden="true"></div>

        <div class="cake-wrap" id="cakeWrap" aria-live="polite">
          <canvas class="sparkle" id="sparkCanvas" aria-hidden="true"></canvas>

          <div class="cake" id="cake" tabindex="0" role="button" aria-pressed="false" aria-label="Cake. Click to blow out candles">
            <div class="candles" id="candles">
              <!-- 7 candles for fuller look -->
              <div class="candle"><svg class="flame" viewBox="0 0 24 36" aria-hidden="true"><g class="outer" fill="#ffdba2"><path d="M12 0c4 4.3 5.8 9.2 3.8 13.3-2 4-3 6.7-3 6.7s-1-2.6-3-6.7C6.2 9.2 8 4.3 12 0z"/></g><g class="inner" fill="#ff7b3a"><path d="M12 3.2c2.2 2.4 3.2 4.9 2.2 7-1 2-1.2 2.9-1.2 2.9s-.5-1.8-1.5-3.9C11.1 10 10.7 7 12 3.2z"/></g></svg></div>

              <div class="candle"><svg class="flame" viewBox="0 0 24 36" aria-hidden="true"><g class="outer" fill="#ffdba2"><path d="M12 0c4 4.3 5.8 9.2 3.8 13.3-2 4-3 6.7-3 6.7s-1-2.6-3-6.7C6.2 9.2 8 4.3 12 0z"/></g><g class="inner" fill="#ff7b3a"><path d="M12 3.2c2.2 2.4 3.2 4.9 2.2 7-1 2-1.2 2.9-1.2 2.9s-.5-1.8-1.5-3.9C11.1 10 10.7 7 12 3.2z"/></g></svg></div>

              <div class="candle"><svg class="flame" viewBox="0 0 24 36" aria-hidden="true"><g class="outer" fill="#ffdba2"><path d="M12 0c4 4.3 5.8 9.2 3.8 13.3-2 4-3 6.7-3 6.7s-1-2.6-3-6.7C6.2 9.2 8 4.3 12 0z"/></g><g class="inner" fill="#ff7b3a"><path d="M12 3.2c2.2 2.4 3.2 4.9 2.2 7-1 2-1.2 2.9-1.2 2.9s-.5-1.8-1.5-3.9C11.1 10 10.7 7 12 3.2z"/></g></svg></div>

              <div class="candle"><svg class="flame" viewBox="0 0 24 36" aria-hidden="true"><g class="outer" fill="#ffdba2"><path d="M12 0c4 4.3 5.8 9.2 3.8 13.3-2 4-3 6.7-3 6.7s-1-2.6-3-6.7C6.2 9.2 8 4.3 12 0z"/></g><g class="inner" fill="#ff7b3a"><path d="M12 3.2c2.2 2.4 3.2 4.9 2.2 7-1 2-1.2 2.9-1.2 2.9s-.5-1.8-1.5-3.9C11.1 10 10.7 7 12 3.2z"/></g></svg></div>

              <div class="candle"><svg class="flame" viewBox="0 0 24 36" aria-hidden="true"><g class="outer" fill="#ffdba2"><path d="M12 0c4 4.3 5.8 9.2 3.8 13.3-2 4-3 6.7-3 6.7s-1-2.6-3-6.7C6.2 9.2 8 4.3 12 0z"/></g><g class="inner" fill="#ff7b3a"><path d="M12 3.2c2.2 2.4 3.2 4.9 2.2 7-1 2-1.2 2.9-1.2 2.9s-.5-1.8-1.5-3.9C11.1 10 10.7 7 12 3.2z"/></g></svg></div>

              <div class="candle"><svg class="flame" viewBox="0 0 24 36" aria-hidden="true"><g class="outer" fill="#ffdba2"><path d="M12 0c4 4.3 5.8 9.2 3.8 13.3-2 4-3 6.7-3 6.7s-1-2.6-3-6.7C6.2 9.2 8 4.3 12 0z"/></g><g class="inner" fill="#ff7b3a"><path d="M12 3.2c2.2 2.4 3.2 4.9 2.2 7-1 2-1.2 2.9-1.2 2.9s-.5-1.8-1.5-3.9C11.1 10 10.7 7 12 3.2z"/></g></svg></div>

              <div class="candle"><svg class="flame" viewBox="0 0 24 36" aria-hidden="true"><g class="outer" fill="#ffdba2"><path d="M12 0c4 4.3 5.8 9.2 3.8 13.3-2 4-3 6.7-3 6.7s-1-2.6-3-6.7C6.2 9.2 8 4.3 12 0z"/></g><g class="inner" fill="#ff7b3a"><path d="M12 3.2c2.2 2.4 3.2 4.9 2.2 7-1 2-1.2 2.9-1.2 2.9s-.5-1.8-1.5-3.9C11.1 10 10.7 7 12 3.2z"/></g></svg></div>
            </div>

            <div id="smokes" aria-hidden="true"></div>

            <div class="layer top" id="topLayer">
              <div class="frosting" aria-hidden="true"><i></i><i></i><i></i></div>
            </div>
            <div class="layer middle"></div>
            <div class="layer bottom"></div>
          </div>
        </div>
      </div>

      <div class="right">
        <div class="panel">
          <div class="big">Wish you very <span style="color:var(--accent)">happy</span> birthday, Akshit! ðŸŽŠ</div>
          <div class="small">May your day be full of joy, friends, and lots of cake. Click or press Space/Enter to interact.</div>

          <div class="controls">
            <button id="blowBtn" class="btn-primary" aria-controls="candles">Blow / Light</button>
            <button id="confettiBtn" class="btn-ghost" aria-controls="sparkCanvas">Celebrate</button>
            <button id="musicBtn" class="btn-ghost">Play Voice</button>
          </div>
        </div>

        <div style="height:8px"></div>
        <div class="panel" style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-size:13px;color:#bcd0ea">Tip</div>
          <div style="font-size:13px;color:#d8e9ff">Click cake to wobble & blow; confetti auto-clears after a few seconds.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Instagram tag (fixed) -->
  <div class="insta-tag" aria-hidden="false">
    IG:
    <a href="https://instagram.com/lucky_xxviii" target="_blank" rel="noopener noreferrer">@lucky_xxviii</a>
  </div>

  <script>
  (function(){
    const cake = document.getElementById('cake');
    const cakeWrap = document.getElementById('cakeWrap');
    const blowBtn = document.getElementById('blowBtn');
    const confettiBtn = document.getElementById('confettiBtn');
    const musicBtn = document.getElementById('musicBtn');
    const smokes = document.getElementById('smokes');
    const sparkCanvas = document.getElementById('sparkCanvas');

    // Canvas context
    const ctx = sparkCanvas.getContext ? sparkCanvas.getContext('2d') : null;

    function adaptCanvas(){
      // make canvas size match cakeWrap
      const rect = cakeWrap.getBoundingClientRect();
      const w = Math.max(1, rect.width);
      const h = Math.max(1, rect.height);
      sparkCanvas.style.width = w + 'px';
      sparkCanvas.style.height = h + 'px';
      const DPR = window.devicePixelRatio || 1;
      sparkCanvas.width = Math.round(w * DPR);
      sparkCanvas.height = Math.round(h * DPR);
      if(ctx){
        ctx.setTransform(DPR,0,0,DPR,0,0);
      }
    }

    // Particle engine for confetti/sparkles
    let particles = [];
    let animRunning = false;
    function rand(min,max){ return Math.random()*(max-min)+min }

    function spawnParticles(xPercent=50, amount=80){
      if(!ctx) return;
      const rect = sparkCanvas.getBoundingClientRect();
      const startX = rect.width * (xPercent/100);
      const now = performance.now();
      for(let i=0;i<amount;i++){
        particles.push({
          x: startX + rand(-80,80),
          y: rand(20,60),
          vx: rand(-1.8,1.8),
          vy: rand(-0.6,3),
          size: rand(3,9),
          life: rand(1200,2600),
          born: now,
          color: ['#ff6b6b','#ffd166','#6bf0ff','#9b5cff','#64ff96','#ff78a1'][Math.floor(Math.random()*6)],
          rotation: rand(0,Math.PI*2),
          spin: rand(-0.12,0.12),
          gravity: 0.02 + Math.random()*0.06
        });
      }
      if(!animRunning){ animRunning = true; lastTS = performance.now(); requestAnimationFrame(loop); }
    }

    let lastTS = 0;
    function loop(ts){
      if(!ctx) return;
      const dt = ts - lastTS; lastTS = ts;
      // clear
      ctx.clearRect(0,0,sparkCanvas.width, sparkCanvas.height);
      ctx.save();
      // draw in CSS pixels (canvas already scaled)
      particles = particles.filter(p => (ts - p.born) < p.life);
      for(let p of particles){
        const age = ts - p.born;
        const lifeRatio = 1 - age/p.life;
        p.vy += p.gravity;
        p.x += p.vx * (dt/16);
        p.y += p.vy * (dt/16);
        p.rotation += p.spin;
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rotation);
        ctx.globalAlpha = Math.max(0, lifeRatio);
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size * (0.6 + 0.4*Math.sin(age/100)));
        ctx.restore();
      }
      ctx.restore();
      if(particles.length>0){ requestAnimationFrame(loop); } else { animRunning = false; ctx.clearRect(0,0,sparkCanvas.width,sparkCanvas.height); }
    }

    // Smoke puffs setup & emit
    function createSmokePuffs(){
      smokes.innerHTML = '';
      const candleElems = document.getElementById('candles').children;
      const wrapRect = cakeWrap.getBoundingClientRect();
      for(let i=0;i<candleElems.length;i++){
        const rect = candleElems[i].getBoundingClientRect();
        const left = (rect.left + rect.width/2) - wrapRect.left;
        const top = (rect.top - wrapRect.top) - 10;
        const el = document.createElement('div');
        el.className = 'smoke-puff';
        el.style.left = left + 'px';
        el.style.top = top + 'px';
        el.style.opacity = 0;
        smokes.appendChild(el);
      }
    }

    function emitSmoke(){
      const puffs = Array.from(smokes.children);
      puffs.forEach((p, idx) => {
        setTimeout(()=> {
          p.style.transition = 'none';
          p.style.transform = 'translateY(0) scale(.6)';
          p.style.opacity = 0.9;
          void p.offsetWidth;
          p.style.transition = 'transform 2200ms ease-out, opacity 2200ms ease-out';
          p.style.transform = `translateY(-${80 + Math.random()*40}px) scale(${1 + Math.random()*1.2})`;
          p.style.opacity = 0;
          setTimeout(()=> { p.style.transition = 'none'; p.style.transform='translateY(0) scale(.6)'; p.style.opacity=0; }, 2400);
        }, idx * 120);
      });
    }

    function setFlames(on){
      const flameSvgs = cake.querySelectorAll('.flame');
      flameSvgs.forEach(f => {
        if(on){
          f.style.opacity = 1;
          f.querySelectorAll('g').forEach(g => g.style.display='');
        } else {
          f.style.transition = 'transform 540ms ease, opacity 540ms ease';
          f.style.transform = 'scaleY(0.18) translateY(8px)';
          f.style.opacity = '0';
          setTimeout(()=> {
            f.querySelectorAll('g').forEach(g => g.style.display='none');
            f.style.transition=''; f.style.transform=''; f.style.opacity='';
          }, 560);
        }
      });
    }

    let lit = true;
    function blowToggle(){
      lit = !lit;
      // wobble
      cakeWrap.classList.remove('wobble');
      void cakeWrap.offsetWidth;
      cakeWrap.classList.add('wobble');

      if(!lit){
        setFlames(false);
        emitSmoke();
        spawnParticles(50, 90);
        blowBtn.textContent = 'Light';
        cake.setAttribute('aria-pressed','true');
      } else {
        setFlames(true);
        spawnParticles(50, 36);
        blowBtn.textContent = 'Blow';
        cake.setAttribute('aria-pressed','false');
      }
    }

    // keyboard accessibility
    cake.addEventListener('keydown', (e)=> { if(e.key===' '||e.key==='Enter'){ e.preventDefault(); blowToggle(); }});
    cake.addEventListener('click', blowToggle);
    blowBtn.addEventListener('click', blowToggle);
    confettiBtn.addEventListener('click', ()=> spawnParticles(50, 160));
    musicBtn.addEventListener('click', ()=>{
      if('speechSynthesis' in window){
        const msg = new SpeechSynthesisUtterance('Wish you a very happy birthday Akshit! From lucky underscore x x v i i.');
        msg.lang = 'en-US'; msg.rate = 1;
        window.speechSynthesis.speak(msg);
      } else {
        alert('Speech not supported in this browser.');
      }
    });

    // init on paint
    function init(){
      adaptCanvas();
      createSmokePuffs();
      setFlames(true);
      // small initial spark
      setTimeout(()=> spawnParticles(50, 30), 600);
    }

    // adapt on resize / layout changes
    window.addEventListener('resize', ()=> { adaptCanvas(); createSmokePuffs(); });
    const ro = new ResizeObserver(()=> { createSmokePuffs(); adaptCanvas(); });
    ro.observe(cakeWrap);

    requestAnimationFrame(()=> init());
  })();
  </script>
</body>
</html>
